# 版本：OpenHarmony 4.1 多媒体能力增强

## 预计发布日期：2024年Q1

### 版本概述

OpenHarmony 4.1版本旨在全面提升系统性能、增强通信平台、加强安全基础平台、优化软总线、强化开发框架、实现全球化升级和DFX，并增强其他基础平台的能力。该版本包含了众多功能的增强和优化，以下是版本特性的摘要：

* **媒体平台**
  
  * **相机特性**
    1. 优化相机切换类（模式切换、镜头切换）性能
    2. 优化相机拍照类（普通模式 See2Review）性能
  * **音频发声特性**
    1. 构建音频路由策略中心，统一管控音频默认、自动/手动切换路由的策略管理；
    2. 支持随身设备（有线耳机、蓝牙耳机、TWS佩戴检测耳机）路由自动切换、用户手动选择进行切换
  * **音频框架策略和服务能力补齐**
    1. 音频流播放接口能力扩展
    2. 音频流播放声道数据处理
    3. 音频流播放数据渐变能力
  * **播放框架基础能力增强与主流格式补齐**
    1. 元信息缩略图支持mpeg-ts/webm/mkv
    2. 播放业务支持多slice码流合帧功能
* **通信平台**
  
  * **网络协议栈基础能力增强**
    1. WPA Supplicant支持EAP PEAP/TTLS/PWD/SIM/AKA/AKA认证认证
    2. 支持上传进度监听、断点续传、双向证书校验、http请求支持指定httpDNS及DFX能力
    3. WPA Supplicant支持WPA3加密认证
    4. 支持HTTP3/QUIC
  * **SIM卡&搜网基础能力增强**
    1. 支持SIM卡短信增删改查
    2. 支持时区更新支持网络下发NITZ、驻网国家码及地理位置等多来源优先级的统一管控
    3. 支持紧急呼叫号码定制
    4. 支持短信自注册获取设备版本信息和SIM卡信息，通过数据短信进行电信自注册业务
    5. 支持数据自注册获取设备版本信息和SIM卡信息通过数据业务进行自注册业务，支持电信和联通SIM卡
  * **网络管理基础能力增强**
    1. 网络诊断提供ping, netstat, ifconfig调测能力和接口封装
    2. 优化网络探测周期，实现最优功耗体验提升。
    3. 提供DNS解析事件上报接口能力
* **安全基础平台**
  
  * **OH威胁分析数据探针部署**
    1. 通用系统行为监控打点
    2. 恶意应用分析&风险应对监控点
  * **安全治理提供端侧模型配置与运行能力**
    1. SecurityGuard支持基于规则（威胁感知策略）的安全数据分析模型；
* **软总线**
  
  * **DHCP能力及WiFi架构增强**
    1. WiFi service适配wpa部件的接口整改
    2. 提供WIFI STA双实例的能力，支持同时连接2路WIFI热点
    3. 支持DHCP续租
    4. DHCP SA独立，支持动态启停
  * **STA&AP基础能力**
    1. 支持WPA3加密方式
    2. 支持EAP-SIM/AKA/AKA'认证方式
    3. 支持WiFi lock特性
    4. 周期性的扫描策略优化，根据网络质量&运动状态调整周期扫描时间
    5. 支持SoftAP和STA互斥/共存，通过开关进行控制
    6. 提供InnerAPI，可设置业务类型，对于时延敏感业务，控制周期扫描策略，防止业务卡顿
    7. 提供API接口，识别当前热点是否手机热点
    8. 提供AP黑名单机制，禁止某些设备的接入
    9. 针对SoftAP业务，提供随机MAC能力
  * **GNSS定位能力增强及三方geocoder构建**
    1. 支持agnss NI框架，支持SUPL NI通知及确认框架、SUPL NI的sms触发框架能力
* **开发框架**
  
  * **Web内核对接系统能力**
  
  1. Web内核系统能力对接增强，包括USB系统能力对接和无障碍系统能力对接
  
  * **ArkTS卡片性能优化**
    1. ArkTS卡片按需加载
    2. ArkTS卡片线程优先级调整
* **全球化升级和DFX**
  
  * **升级DFX及可靠性增强**
    1. 升级小系统启动镜像双备份，升级过程中硬件故障重试机制
  * **升级功能优化**
    1. 支持自动升级场景的非热点WIFI判断
    2. 支持差分升级多线程提速
  * **国际化能力增强**
    1. 支持节假日格式解析，支持基本节假日规则文件解析及对象管理
    2. 支持国际化数据在跨平台插件中最小化部署或者随需加载

* **其他基础平台能力**
  
  * **图形图像**
    1. 虚拟屏支持色域、HDR、像素格式设置和转换
    2. 图形支持广色域硬件加速（gpu shader加速色域转换）
    3. 3D引擎通过arkUI接口对外提供PBR渲染、反射、阴影、刚体动画、骨骼动画、morph动画、自定义shader等的基本渲染能力
    4. 缩略图ASTC纹理压缩，零解码，适配图形管线，GPU直绘?
    5. 大图零拷贝，直接解码到SurfaceBuffer，无需纹理上传
  * **语言运行时和基础库**
    1. 支持线程安全的前端扫描
    2. Framwork AOT编译
    3. PGO 运行性能优化
  * **电源基础能力增强**
    1. 电源子系统适配用户行为刷新机制
    2. 适配震动提示机制
  * **上传下载能力增强**
    1. 支持可扩展的后台上传任务文件断点续传协议；
    2. 支持应用订阅、退订任务状态变化通知；
  * **上传下载基础协议增强**
    1. 支持应用网络代理配置；
    2. 支持应用证书配置（含自签名证书）；
  * **剪贴板**
    1. 剪贴板中内容，支持留存时间管控，超时后从剪贴板中自动清除
    2. 剪贴板中提供查询剪贴板中数据类型的接口
    3. 剪贴板支持读取接口管控
  * **多模输入**
    1. 多模输入提供热区监听接口，通过接口传入需要拉起的ability。
    2. 多模输入在现有的按键监听功能基础上提供按键监听优先级的申明能力，用于此类监听同一按键序列并期望按序处理的场景。同时提供按键消费结果返回的接口，用于决策该按键序列是否需要继续分发
    3. 多模输入全局快捷键注册接口、查询应用已注册快捷键功能的接口；需要约束组合键必须以功能键为preKey
    4. 多模输入基于触摸屏和手写笔驱动可同时上报事件的场景向应用侧同时分发触摸屏和手写笔的事件
    5. 摇杆、游戏手柄设备按照linux input, HDF input框架接入系统，多模输入接收到驱动事件后按照UX平台定义的事件转换规则进行事件转换和分发。
    6. 多模输入通过驱动提供的统一的HDI接口获取硬件设备的输入事件；多模输入解除linux input, mtdev等外部依赖，保证原有功能正常
    7. 多模输入按键拦截、监听、分发框架优化，当前已提供的组合按键注册接口inputConsumer需要新增组合按键消费返回值，用于多模输入处理多方监听分发的场景
  * **无障碍特性**
    1. 无障碍框架优化，窗口和节点信息缓存机制，提升扩展服务查询的性能，支持多指交互手势
    2. 无障碍辅助功能快捷键可支持同时配置多个辅助功能，触发时由用户选择要启动\关闭的辅助功能，提供颜色反转设置、屏幕触控、屏幕放大

OpenHarmony 4.1版本将为用户提供更加高效、安全和全面的操作系统体验，满足不同场景下的需求。

# 版本：OpenHarmony 5.0 车机基础能力


## 预计发布日期：2024年Q3

### 版本概述

OpenHarmony 5.0 版本旨在进一步提升系统性能、加强安全底座和拓展分布式底座功能。在本版本中，我们专注于优化开发框架、加强基础平台功能，改进方舟编译运行时，并增强驱动框架和电源管理。同时，我们还为媒体处理、泛sensor和事件通知引入新的功能。下面是版本特性的简要描述：

* **开发框架**
  * **元能力**
    1. 支持卡片内存快速换入换出和卡片native内存配额管控，允许卡片接入其它业务API，并支持分布式卡片。
    2. ArkUI框架MINI设备，提供低ROM，低内存占用的图形方案，适用于小型设备开发
  * **包管理**
    1. 增加支持三方应用对外提供HSP能力。
* **基础平台**
  * **文件管理**
    1. 完善端云和分布式场景中的平台能力，加强协同编辑接口能力，优化端云文件系统文件系统块粒度差分能力，加入Samba和MTP支持，实现配额管控和文件分级缓存管理。
  * **媒体**
    1. 扩展图库滤镜算法库，整合HDR和超分系统能力，以及提供相机高级模式化API（如微距和双景）。
    2. 多外设框架：多屏多Camera等
    3. 视频会议等协议能力补齐RTSP/WebRTC
  * **方舟编译运行时**
    1. 引入基于静态对象（Static eTS）的共/转移/冻结能力，优化分布式开发范式和语言标准，加强SmartGC系统调度GC，全面Builtin运行时优化，并增加静态ArkTS支持和类型增强。
  * **驱动框架**
    1. 构建声纹、DRM版权、VoWIFI通话和eSIM HDI能力。
  * **泛sensor**
    1. 增强音振协同媒体播放能力，支持HD-Haptic渲染算法。
  * **电源管理**
    1. 引入混合休眠和分辨率自适应功能，提升能效和用户体验。
* **软总线**
  * **行业基础互联物模型**
    1. 基础互联端物模型组件&基础互联业务

OpenHarmony 6.0版本将为开发者和用户提供更加高效、安全和全面的操作系统体验。

# 版本：OpenHarmony 6.0 聚焦北向应用生态，Watch和大屏等形态以及多设备分布式创新能力，持续提供开发效率


## 预计发布日期：2025年Q3

### 版本概述

OpenHarmony 6.0 版本旨在进一步提升可信认证和拓展分布式南北向功能，跨平台开发工具增强。下面是版本特性的简要描述：
* **应用框架和服务**
  * **音频通路引擎**
    1. 提供音频相关的功能，包括音频播放，录制，音量管理和设备管理。
  * **强制分栏（平行视界）**
    1. 提供应用UI强制分栏管理，支持强制显示、主页自动识别、任务栈自动清理及默认占位视图。
  * **电话服务**
    1. 提供VoIP应用内通话管理服务，来电一键接听、横幅通知及麦克风静音控制。
  * **可信持有物认证**
    1. 提供统一、安全的设备间身份认证基础能力，实现多个设备间统一安全的身份认证底座框架，支撑类似跨设备投屏，应用免认证登陆，锁屏下的受控指令执行等。
  * **游戏控制器框架**
    1. 提供游戏外设接入的基础库，简化外设适配，提升游戏体验，支撑游戏手柄，游戏键鼠等的南向设备接入，可实现个性化输入转触控等框架能力。
  * **轻量化智慧数据平台**
    1.提供多模态数据表征模型，向量/KV数据库帮助支撑端侧的图文跨模态搜索与智能理解。
    2.多模态数据库支持，基于Key的KV分布式数据管理；基于SQL的向量数据管理；基于Json的文档型数据管理；基于CRDT模型的分布式数据管理；基于图的数据管理。
  * **具身硬件统一控制框架**
    1. 提供三方应用控制南向智能肢体硬件的统一接口，实现南向设备的连接和控制功能，增强多设备系统交互智能体验。
  * **划词框架**
    1. 提供平台级划词基础能力和统一北向接口，提升文本操作效率和体验，支撑应用的自动翻译等功能。
* **构建工具**
  * **hvigor(hvigor-monorepo)**
    1. 提供任务注册编排，编译工程模型管理，编译配置定制，插件扩展能力。
  * **idlize (ArkUI组件生成工具)**
    1. 可提供标准化的ArkUI接口解析与代码生成能力，使开发者高效适配多种平台，为ArkUI框架提供组件代码自动生成的桥接层代码，提升跨平台开发效率。
    2. 输入上层组件d.ts定义，自动生成各种平台（鸿蒙，node，ios，android、windows、ubuntu平台）的ArkUI前端框架和桥接代码，对接native侧组件数据。
  * **interop_tool (跨语言代码生成)**
    1. 提供跨语言（如C++/JS到ArkTS）自动代码生成，简化API集成，降低多语言开发成本。
    2. 输入一个跨语言接口声明文件，执行命令自动生成ArkTS的语言桥接代码，对接native侧C++库；并根据接口声明定义提供一套二进制兼容的稳定的接口定义。
* **基础库**
  * **方舟静态eTS运行时**
    1. 增强ArkTS语言的静态类型检查与并发处理能力，提升应用性能和稳定性。
    
    # 版本：OpenHarmony 6.1 不断提升北向应用开发者体验，增强端云通信，基础语音，预览类等基础常用API和能力；增强的系统应用的能力，包括文件管理，图库，设置，相机，通话等。


## 预计发布日期：2026年Q1